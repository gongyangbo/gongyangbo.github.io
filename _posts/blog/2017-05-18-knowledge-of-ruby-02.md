---
layout: post
title: ä½¿ç”¨Railséœ€è¦æŒæ¡çš„RubyçŸ¥è¯†ï¼ˆäºŒï¼‰
categories: Ruby
description: ä½¿ç”¨Railséœ€è¦æŒæ¡çš„RubyçŸ¥è¯†
keywords: ruby,knowledge
---

_Rubyè¯­è¨€çš„çŸ¥è¯†ç‚¹å¾ˆå¤šï¼Œä¸è¿‡å¯¹äºRails å¼€å‘è€…æ¥è¯´éœ€è¦æŒæ¡çš„å¾ˆå°‘ã€‚æœ¬æ–‡ä¸»è¦å†…å®¹æ¥è‡ªäºã€Šruby on rails tutorilã€‹è¿™æœ¬ä¹¦ï¼Œæ˜¯å¯¹è¿™æœ¬ä¹¦å­¦ä¹ åç¬¬å››ç« çš„ä¸ªäººæ€»ç»“ï¼Œå†…å¿ƒéå¸¸æ„Ÿè°¢è¯¥ä¹¦ä½œè€…Michael Hartlï¼Œä¹Ÿéå¸¸æ„Ÿè°¢ä¸­æ–‡ç¿»è¯‘å®‰é“è€å¸ˆğŸ™_        

---------------------------------------
#### å­—ç¬¦ä¸²å’Œæ–¹æ³•

Railsæ§åˆ¶å°ï¼šRailsæ§åˆ¶å°æ˜¯ç”¨æ¥ä¸Railsåº”ç”¨äº¤äº’çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒåŸºäºRubyçš„äº¤äº’ç¨‹åºï¼ˆirbï¼‰å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨rubyè¯­è¨€çš„æ‰€æœ‰åŠŸèƒ½ï¼Œæœ¬æ–‡çš„æ“ä½œéƒ½æ˜¯åœ¨Railsæ§åˆ¶å°ä¸­å®Œæˆçš„ã€‚

##### å­—ç¬¦ä¸²

å¯¹äºwebåº”ç”¨ï¼Œå­—ç¬¦ä¸²æˆ–è®¸æ˜¯æœ€é‡è¦çš„æ•°æ®ç»“æ„ï¼Œå› ä¸ºç½‘é¡µçš„å†…å®¹å°±æ˜¯ä»æœåŠ¡å™¨å‘é€ç»™æµè§ˆå™¨çš„å­—ç¬¦ä¸²ã€‚ï¼ˆä¹¦ä¸­åŸè¯ï¼‰

å¦‚å›¾-1ï¼Œä½¿ç”¨åŒå¼•å·ï¼ˆ""ï¼‰åˆ›å»ºå­—ç¬¦ä¸²ï¼›ä½¿ç”¨ + æ‹¼æ¥å­—ç¬¦ä¸²ï¼›ä½¿ç”¨ç‰¹æ®Šå¥æ³• #{} è¿›è¡Œæ’å€¼æ“ä½œã€‚


å›¾-1
Ruby ä¹Ÿæ”¯æŒå•å¼•å·åˆ›å»ºå­—ç¬¦ä¸²ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹è¿™ä¸¤ç§å­—ç¬¦ä¸²æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼ŒäºŒè€…æœ€é‡è¦çš„åŒºåˆ«æ˜¯ï¼šRuby ä¸ä¼šå¯¹å•å¼•å·å­—ç¬¦ä¸²è¿›è¡Œæ’å€¼æ“ä½œã€‚

*æ³¨é‡Šï¼šRubyä¸­çš„æ³¨é‡Šä»¥äº•å· # å¼€å§‹ï¼Œä¸€ç›´åˆ°è¡Œå°¾ã€‚*

#### å¯¹è±¡å’Œæ¶ˆæ¯ä¼ é€

åœ¨Rubyä¸­ï¼Œä¸€åˆ‡çš†å¯¹è±¡ï¼Œå¯¹è±¡çš„ä½œç”¨ï¼šå“åº”æ¶ˆæ¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¼ ç»™å¯¹è±¡çš„æ¶ˆæ¯æ˜¯â€œæ–¹æ³•â€ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šå®šä¹‰çš„å‡½æ•°ã€‚

>> "GongYangbo".length            #å­—ç¬¦ä¸²å“åº”lengthæ–¹æ³•ï¼Œè¿”å›å­—ç¬¦ä¸²ä¸­åŒ…å«çš„å­—ç¬¦æ•°é‡   
=> 10    
empty? æ–¹æ³•åé¢çš„â“æ˜¯rubyçš„çº¦å®š ï¼Œè¯´æ˜è¿”å›çš„æ˜¯å¸ƒå°”å€¼ï¼›   
å¸ƒå°”å€¼å¯ä»¥å’Œ    &&ï¼ˆä¸ï¼‰    ||ï¼ˆæˆ–ï¼‰    ï¼ï¼ˆéï¼‰  è¿ç®—ç¬¦ç»“åˆåˆ°ä¸€èµ·ä½¿ç”¨ï¼›   
>>  nil.to_s        #ä¸€åˆ‡çš†å¯¹è±¡ï¼Œnilä¹Ÿæ˜¯å¯¹è±¡ï¼Œå“åº”to_sæ–¹æ³•   
=>  ""   
>> puts "It's a palindrome!" if s == s.reverse       #ç®€å•çš„å›æ–‡æµ‹è¯•

#### æ•°ç»„å’Œå€¼åŸŸ

æ•°ç»„æ˜¯ä¸€ç»„å…·æœ‰ç‰¹å®šé¡ºåºçš„å…ƒç´ ã€‚Rubyä¸­å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„æ•°æ®ã€‚

split æ–¹æ³•   
>>  "gong yang bo".split        #æŠŠå­—ç¬¦ä¸²æ‹†åˆ†æˆæœ‰ä¸‰ä¸ªå…ƒç´ çš„æ•°ç»„   
=>  ["gong", "yang", "bo"]   
é»˜è®¤æƒ…å†µä¸‹ï¼Œsplitåœ¨ç©ºæ ¼å¤„æŠŠå­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥åœ¨å‡ ä¹ä»»ä½•åœ°æ–¹æ‹†åˆ†ï¼š   
>> "fooxbarxbazx".split('x')   
=> ["foo", "bar", "baz"]

æ•°ç»„å¯ä»¥å“åº”ä¸€ç³»åˆ—æ–¹æ³•ï¼š   
>> a   
=> [42, 8, 17]   
>> a.length            #æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°   
=> 3   
>> a.empty?          #æ•°ç»„æ˜¯å¦ä¸ºç©º   
=> false   
>> a.include?(42)#æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦åŒ…å«42   
=> true   
>> a.sort                #æ’åº    
=> [8, 17, 42]    
>> a.reverse          #å…ƒç´ å¯¹æ‰    
=> [17, 8, 42]    
>> a.shuffle          #æ‰“ä¹±å…ƒç´ é¡ºåºï¼Œéšæœºå˜åŒ–    
=> [17, 42, 8]    
>> a    
=> [42, 8, 17]    

ä¸Šé¢çš„æ–¹æ³•éƒ½æ²¡æœ‰ä¿®æ”¹ a çš„å€¼ã€‚å¦‚æœè¦ä¿®æ”¹æ•°ç»„çš„å€¼ï¼Œè¦ä½¿ç”¨ç›¸åº”çš„â€œç‚¸å¼¹â€ï¼ˆbangï¼‰æ–¹æ³•ï¼ˆä¹‹æ‰€ä»¥è¿™ä¹ˆå«æ˜¯å› ä¸ºï¼Œè¿™é‡Œçš„æ„Ÿå¹å·ç»å¸¸éƒ½è¯»ä½œâ€œbangâ€ï¼‰ï¼š    
>> a     
=> [42, 8, 17]    
>> a.sort!   
=> [8, 17, 42]  
>> a   
=> [8, 17, 42]   

ä½¿ç”¨pushæ–¹æ³•å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ï¼Œæˆ–è€…ä½¿ç”¨ç­‰ä»·çš„<<è¿ç®—ç¬¦ï¼š   
>> a.push(6)                  # æŠŠ 6 åŠ åˆ°æ•°ç»„æœ«å°¾   
=> [42, 8, 17, 6]   
>> a << 7                    # æŠŠ 7 åŠ åˆ°æ•°ç»„æœ«å°¾   
=> [42, 8, 17, 6, 7]   
>> a << "foo" << "bar"        # ä¸²è”æ“ä½œ   
=> [42, 8, 17, 6, 7, "foo", "bar"]

join æ–¹æ³•ï¼šsplitæ–¹æ³•å¯ä»¥æŠŠå­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„ï¼Œä½¿ç”¨joinæ–¹æ³•å¯ä»¥æŠŠæ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ï¼ˆç›¸åçš„æ“ä½œï¼‰

#### å€¼åŸŸï¼ˆrangeï¼‰
Rangeæ˜¯èŒƒå›´å¯¹è±¡çš„ç±»ï¼Œå®šä¹‰çš„æ—¶å€™å¯ä»¥ä½¿ç”¨èŒƒå›´æ“ä½œç¬¦â€œ..â€æˆ–è€…â€œ...â€ï¼Œâ€œ..â€ç”Ÿæˆçš„èŒƒå›´å¯¹è±¡åŒ…æ‹¬èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œâ€œ...â€ç”Ÿæˆçš„èŒƒå›´å¯¹è±¡ä¸åŒ…æ‹¬èµ·ç‚¹å’Œç»ˆç‚¹ï¼ŒèŒƒå›´æ˜¯ç”±æ˜¯ä¸€åºåˆ—æœ‰é¡ºåºã€æœ‰è§„å¾‹çš„å…ƒç´ å¯¹è±¡ç»„æˆï¼Œä»»ä½•æœ‰é¡ºåºï¼Œæœ‰è§„å¾‹çš„ä¸€ç»„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨Rangeå¯¹è±¡æ¥å®šä¹‰ï¼Œå¦‚æ•°å­—ã€å­—æ¯ã€å­—ç¬¦ä¸²ã€ç”šè‡³æ—¶é—´ã€‚
_éå†2017-01-01è‡³2017-02-28æ¯ä¸€å¤©ï¼Œå¯¹è±¡æ˜¯Date_ 

```ruby
begin_date = Date.parse '2017-01-01'  
end_date = Date.parse '2017-02-28'   
r1=begin_date .. end_date   
r1.each{|date| puts date}
```
#### å—ï¼ˆblockï¼‰

æ•°ç»„å’Œå€¼åŸŸå¯ä»¥å“åº”çš„æ–¹æ³•ä¸­æœ‰å¾ˆå¤šéƒ½å¯ä»¥è·Ÿç€ä¸€ä¸ªå—ï¼ˆblockï¼‰  
>> (1..5).each { |i| puts 2 * i }  
2  
4  
6  
8  
10  
=> 1..5  

è¿™æ®µä»£ç åœ¨å€¼åŸŸ(1..5)ä¸Šè°ƒç”¨eachæ–¹æ³•ï¼Œç„¶ååˆæŠŠ{ |i| puts 2 * i }è¿™ä¸ªå—ä¼ ç»™eachæ–¹æ³•ã€‚|i|ä¸¤è¾¹çš„ç«–çº¿åœ¨ Ruby ä¸­ç”¨æ¥å®šä¹‰å—å˜é‡ã€‚åªæœ‰æ–¹æ³•æœ¬èº«æ‰çŸ¥é“å¦‚ä½•å¤„ç†åé¢è·Ÿç€çš„å—ã€‚è¿™é‡Œï¼Œå€¼åŸŸçš„eachæ–¹æ³•ä¼šå¤„ç†åé¢çš„å—ï¼Œå—ä¸­æœ‰ä¸€ä¸ªå±€éƒ¨å˜é‡iï¼Œeachä¼šæŠŠå€¼åŸŸä¸­çš„å„ä¸ªå€¼ä¼ è¿›å—ä¸­ï¼Œç„¶åæ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚  
èŠ±æ‹¬å·æ˜¯è¡¨ç¤ºå—çš„ä¸€ç§æ–¹å¼ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ï¼š  
>> (1..5).each do |i|  
>>     puts 2 * i  
>> end  
2  
4  
6  
8  
10  
=> 1..5

inject æ–¹æ³•  
arr1 = []  
arr2 = [1,2,3]  
arr2.each do |i|  
    arr1 << i + 1  
end  
p arr1  
=> [2, 3, 4]

ä½¿ç”¨injectï¼š  
arr = arr2.inject ([]) do |arr1, i|  
    arr1 << i + 1  
end  
p arr  
=>[2,3,4]

map æ–¹æ³•  
>> (1..5).map { |i| i**2 }          # ** è¡¨ç¤ºå¹‚è¿ç®—  
=> [1, 4, 9, 16, 25]  
>> %w[a b c]                              # %w ç”¨äºåˆ›å»ºå…ƒç´ ä¸ºå­—ç¬¦ä¸²çš„æ•°ç»„  
=> ["a", "b", "c"]  
>> %w[a b c].map { |char| char.upcase }  
=> ["A", "B", "C"]  
>> %w[A B C].map { |char| char.downcase }  
=> ["a", "b", "c"]  

mapæ–¹æ³•è¿”å›çš„æ˜¯åœ¨æ•°ç»„æˆ–å€¼åŸŸä¸­æ¯ä¸ªå…ƒç´ ä¸Šæ‰§è¡Œå—ä¸­ä»£ç åå¾—åˆ°çš„ç»“æœã€‚  
mapåé¢çš„å—åœ¨å—å˜é‡ä¸Šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ç§æ“ä½œç»å¸¸ä½¿ç”¨ç®€å†™å½¢å¼ï¼š  
>> %w[A B C].map { |char| char.downcase }  
=> ["a", "b", "c"]  
>> %w[A B C].map(&:downcase)  
=> ["a", "b", "c"]  

ç”Ÿæˆéšæœº8ä¸ªå­—æ¯ç»„åˆï¼š  
>> ('a'..'z').to_a                    # ç”±å…¨éƒ¨è‹±æ–‡å­—æ¯ç»„æˆçš„æ•°ç»„  
=> ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o",
"p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]  
>> ('a'..'z').to_a.shuffle            # æ‰“ä¹±æ•°ç»„  
=> ["c", "g", "l", "k", "h", "z", "s", "i", "n", "d", "y", "u", "t", "j", "q",
"b", "r", "o", "f", "e", "w", "v", "m", "a", "x", "p"]  
>> ('a'..'z').to_a.shuffle[0..7]      # å–å‡ºå‰ 8 ä¸ªå…ƒç´   
=> ["f", "w", "i", "a", "h", "p", "c", "x"]  
>> ('a'..'z').to_a.shuffle[0..7].join  # æŠŠå–å‡ºçš„å…ƒç´ åˆå¹¶æˆå­—ç¬¦ä¸²  
=> "mznpybuj"  
